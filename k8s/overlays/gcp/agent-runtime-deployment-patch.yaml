apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: eve-agent-runtime
  namespace: eve
spec:
  template:
    spec:
      imagePullSecrets:
        - name: eve-registry
      containers:
        - name: agent-runtime
          image: ghcr.io/eve-horizon/agent-runtime:staging
      # Schedule onto agents spot pool
      tolerations:
        - key: pool
          operator: Equal
          value: agents
          effect: NoSchedule
      nodeSelector:
        pool: agents
