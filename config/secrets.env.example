# =============================================================================
# Eve Horizon Secrets
# =============================================================================
#
# Copy this file to secrets.env and fill in your values.
#
#   cp config/secrets.env.example config/secrets.env
#
# NEVER commit secrets.env to version control.
# It is already listed in .gitignore.
#
# Fields marked [REQUIRED] must be set for Eve to start.
# Fields marked [OPTIONAL] enable additional features when present.
# =============================================================================

# -----------------------------------------------------------------------------
# Eve Platform Secrets  [REQUIRED]
# -----------------------------------------------------------------------------

# Master encryption key used by Eve to encrypt org-level secrets at rest.
# Generate: openssl rand -hex 32
EVE_SECRETS_MASTER_KEY=

# Internal API key for service-to-service authentication within the cluster.
# Generate: openssl rand -hex 32
EVE_INTERNAL_API_KEY=

# Bootstrap token used for initial admin setup (first-run provisioning).
# Generate: openssl rand -hex 32
EVE_BOOTSTRAP_TOKEN=

# -----------------------------------------------------------------------------
# Database  [REQUIRED unless using in-cluster PostgreSQL]
# -----------------------------------------------------------------------------

# Full PostgreSQL connection string. For managed databases (RDS, Cloud SQL),
# this is constructed from your Terraform outputs.
# Format: postgres://<user>:<password>@<host>:5432/<dbname>
DATABASE_URL=

# -----------------------------------------------------------------------------
# Redis  [OPTIONAL]
# -----------------------------------------------------------------------------

# Redis connection string for caching and pub/sub.
# When omitted, Eve falls back to in-process caching.
# Format: redis://<host>:6379
REDIS_URL=

# -----------------------------------------------------------------------------
# Container Registry  [OPTIONAL for public registries]
# -----------------------------------------------------------------------------

# Generic credentials used when platform.registry points at a private registry.
# For example:
#   - private ECR: REGISTRY_USERNAME=AWS, REGISTRY_PASSWORD=<ecr login token>
#   - private Harbor or other OCI mirror with basic auth
REGISTRY_USERNAME=
REGISTRY_PASSWORD=

# Eve-native registry signing key (PEM private key, multi-line value supported).
# Required when deploying the in-cluster eve-registry with token auth.
EVE_REGISTRY_SIGNING_KEY=

# Public registry host used by API/worker for token realm and push endpoints.
# Example: registry.eh1.incept5.dev
EVE_REGISTRY_HOST=

# -----------------------------------------------------------------------------
# LLM Provider Keys  [at least one REQUIRED]
# -----------------------------------------------------------------------------

# Anthropic API key (Claude models).
# Obtain from: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# Z.ai API key (GLM models).
# Obtain from: https://z.ai/console
Z_AI_API_KEY=

# Z.ai default model override. When set, all zai harness jobs use this model.
# ZAI_MODEL=glm-5

# OpenAI API key (GPT models).
# Obtain from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# -----------------------------------------------------------------------------
# GitHub Integration  [REQUIRED for CI/CD and code operations]
# -----------------------------------------------------------------------------

# GitHub personal access token for repository operations (cloning, PR creation).
# Needs repo, read:org scopes at minimum.
GITHUB_TOKEN=

# GitHub App credentials (for webhook-driven CI triggers).
# Create a GitHub App: https://docs.github.com/en/apps/creating-github-apps
GITHUB_APP_ID=

# GitHub App private key, base64-encoded.
# Encode: base64 -i your-app.private-key.pem | tr -d '\n'
GITHUB_APP_PRIVATE_KEY=

# Webhook verification secret. Set this to the same value configured in your
# GitHub App's webhook settings.
EVE_GITHUB_WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# Claude Code Integration  [OPTIONAL]
# -----------------------------------------------------------------------------

# OAuth token for Claude Code API authentication.
# Used when Eve agents invoke Claude Code as a tool.
CLAUDE_CODE_OAUTH_TOKEN=

# -----------------------------------------------------------------------------
# Slack Integration  [OPTIONAL]
# -----------------------------------------------------------------------------

# Slack signing secret for verifying inbound webhook requests.
# Found in your Slack App's "Basic Information" > "Signing Secret".
EVE_SLACK_SIGNING_SECRET=

# Slack bot token for sending messages and interacting with the Slack API.
# Starts with xoxb-
SLACK_BOT_TOKEN=

# Slack webhook URL for deployment notifications.
# Create at: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=

# -----------------------------------------------------------------------------
# Observability  [OPTIONAL]
# -----------------------------------------------------------------------------

# API key for your observability backend (Datadog, Grafana Cloud, etc.)
# when using a managed OTLP endpoint rather than a self-hosted collector.
OTEL_API_KEY=

# -----------------------------------------------------------------------------
# Ollama GPU Inference  [REQUIRED when ollama.enabled=true]
# -----------------------------------------------------------------------------

# Base URL of the Ollama GPU host (private IP from Terraform output).
# Set automatically by the deploy workflow when ollama is enabled.
# EVE_OLLAMA_BASE_URL=http://10.0.x.x:11434

# ASG name for on-demand GPU wake (from Terraform output: ollama_asg_name).
# EVE_OLLAMA_ASG_NAME=

# -----------------------------------------------------------------------------
# Web Auth (GoTrue + SSO)  [OPTIONAL]
# -----------------------------------------------------------------------------
#
# When configured, the Eve API will expose /auth/config and support exchanging
# Supabase (HS256) access tokens for Eve (RS256) tokens via /auth/exchange.
#
# These values are safe to set on staging for web auth validation.
#
# Generate a JWT secret:
#   openssl rand -hex 32
SUPABASE_JWT_SECRET=

# Dedicated DB role password used by GoTrue (created by the auth bootstrap job).
# Generate:
#   openssl rand -base64 24 | tr -d '/+=' | head -c 32
EVE_AUTH_ADMIN_PASSWORD=

# Full DB URL used by GoTrue (should include search_path=auth).
# Example:
#   postgres://eve_auth_admin:<password>@<rds-host>:5432/eve?sslmode=require&search_path=auth
SUPABASE_AUTH_DATABASE_URL=

# Public URL for GoTrue (auth service).
# Example:
#   https://auth.eh1.incept5.dev
SUPABASE_AUTH_EXTERNAL_URL=

# Internal URL for GoTrue used by Eve services (invite calls, SSO refresh).
# Default for in-cluster service discovery:
SUPABASE_AUTH_URL=http://supabase-auth:9999

# Public SSO URL (cookie-based session exchange).
# Example:
#   https://sso.eh1.incept5.dev
EVE_SSO_URL=

# Supabase keys derived from SUPABASE_JWT_SECRET:
# - Service key: role=service_role
# - Anon key:    role=anon
#
# These are public-ish (anon) and admin-ish (service role). Keep both private
# in staging/production secrets files; only /auth/config returns the anon key.
SUPABASE_AUTH_SERVICE_KEY=
SUPABASE_ANON_KEY=

# -----------------------------------------------------------------------------
# GoTrue SMTP  [OPTIONAL]
# -----------------------------------------------------------------------------
#
# Required if GOTRUE_EXTERNAL_EMAIL_ENABLED=true and you want invites/magic links
# to actually send email. For Amazon SES SMTP (recommended on staging/prod):
#   GOTRUE_SMTP_HOST=email-smtp.<region>.amazonaws.com
#   GOTRUE_SMTP_PORT=587
#   GOTRUE_SMTP_USER=<ses-smtp-username>   # IAM access key id
#   GOTRUE_SMTP_PASS=<ses-smtp-password>   # derived from IAM secret
#
# See: https://docs.aws.amazon.com/ses/latest/dg/smtp-credentials.html
GOTRUE_SMTP_HOST=
GOTRUE_SMTP_PORT=
GOTRUE_SMTP_USER=
GOTRUE_SMTP_PASS=
GOTRUE_SMTP_ADMIN_EMAIL=
GOTRUE_SMTP_SENDER_NAME=
